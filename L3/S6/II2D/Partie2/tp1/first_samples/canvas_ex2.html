<html>
  <body>
    <canvas id="input" width="320" height="240"/><br/>
    <script type="text/javascript">

      var canvas = document.getElementById("input");
      var ctx2d = canvas.getContext("2d");
      var imgData = ctx2d.getImageData(0,0,canvas.width,canvas.height);
      var pixels = imgData.data;

      //BLOC1
      /* Pour tous les pixels de coordonées (100, y) avec y allant de 0
      à la hauteur de l'image (qui est la hauteur du canvas):
      Récupérer le pixel, définir sa composante bleue à 255 et sa composante
      alpha à (255*y)/imgData.height (<=> mettre un pixel en couleur bleu et
      faire varier l'opacité en fonction de la hauteur du pixel) */
      var x = 100;
      for (var y = 0; y < imgData.height; y++) {
        var pos_pixel_dans_vector = (y * imgData.width + x)<<2;
        pixels[pos_pixel_dans_vector + 2] = 255;
        pixels[pos_pixel_dans_vector + 3] = (255 * y) / imgData.height;
      }

      //BLOC2
      /*Mettre à jour le contexte en insérant les données modifiées 
      (pour appliquer les changements faits dans pixels) */
      ctx2d.putImageData(imgData,0,0);
      </script>
    </body>
  </html>
